class Park {		var parentMC:MovieClip;	var park:MovieClip;	var parkMask:MovieClip;	var classObj:Object;	var pscale:Number;	var rainInterval:Number;	var birdInterval:Number;	var joggerInterval:Number;	var dogInterval:Number;	var birds:Number;	var madeSomething:Boolean;	var groundGrown:Boolean;		function Park(pMC:MovieClip){		parentMC = pMC;		classObj = this;		park = parentMC.createEmptyMovieClip("park",0);		park.w = (Stage.width/3)+random(2*Stage.width/3);				//park.h = 5*park.w/9;				park.h = park.w * (Stage.height / Stage.width);				parkMask = park.createEmptyMovieClip("parkMask",-10);		with (parkMask){			lineStyle(0,0,0);			beginFill(0,100);			moveTo(0,0);			lineTo(park.w,0);			lineTo(park.w,park.h);			lineTo(0,park.h);			lineTo(0,0);			endFill;		}		park.setMask(parkMask);		trace ("park height = "+park.h);		pscale = 100*Stage.height/park.h;		trace ("pscale = "+pscale);		park._xscale = pscale;		park._yscale = pscale;		park.classObj = classObj;		park.G = new Ground(park);		groundGrown = false;						//park.TF = new TextFader(park);						park.raining = false;		park.hasRainbow = false;		randomRain(25,true);		rainInterval = setInterval (classObj,"randomRain",10000,5);		birds = 0;		birdInterval = setInterval (classObj,"randomBird",1000,33);		madeSomething = false;		joggerInterval = setInterval(classObj,"make",3500,"jogger",1000);		trace ("set makeInt = "+joggerInterval);		park.onEnterFrame = function(){			this.classObj.checkEnd();		}		park.UT = new UrchinTimer(park);	}	//functionsprivate function checkEnd(){	if (madeSomething and groundGrown and !park.hasRainbow and park.jogger==undefined and park.dog==undefined){		trace ("park.jogger = "+park.jogger);		parentMC.doReset();		delete park.onEnterFrame;	}}public function doEnd():Void{	groundGrown = true;	dogInterval = setInterval(classObj,"make",3500,"dog",2000);}	private function make(something:String,					  depth:Number,					  initObject:Object):Void{	if (park.raining==true){		return;	}	if (madeSomething!=true){		madeSomething=true;	}	trace ("clear makeInt = "+classObj[something+"Interval"]);	clearInterval(classObj[something+"Interval"]);	park.attachMovie(something,something,depth,initObject);}private function randomRain(chance:Number,							fullStrength:Boolean):Void{	if (random(100)<=chance and park.raining!=true){		trace ("randomly starts raining");		park.raining=true;		if (fullStrength==true){			var dur = 15+random(5);			var str = 5+random(5);		} else {			var dur = 5+random(15);			var str = random(10);		}		park.R = new Rain(str,dur,park,fullStrength);	}}private function randomBird(chance:Number):Void{	if (random(100)<=chance and park.raining!=true){		birds++;		park.attachMovie("bird","bird"+birds,2000+birds);	}}			public function destroy(){	trace ("destroy park");		//park.TF.destroy();		park.G.destroy();	park.R.destroy();	park.RB.destroy();	park.UT.destroy();	for (var i in park){		if (i instanceof MovieClip){			delete i.onEnterFrame;		}	}	clearInterval(joggerInterval);	clearInterval(dogInterval);	clearInterval(birdInterval);	clearInterval(rainInterval);	park.removeMovieClip();	delete classObj;}		}