class Birds{		var parentMC:MovieClip;	var classObj:Object;	var birds:Number;	var bird:MovieClip;	var birdArt:MovieClip;	function Birds(pMC){		parentMC = pMC;		classObj = this;		birds = 0;	}		public function makeBird(toX:Number,							 toY:Number):Void{		birds++		bird = parentMC.createEmptyMovieClip("bird"+birds,2000+birds);		birdArt = bird.attachMovie("bird","birdArt",0);		trace ("made bird "+bird+" to "+toX+", "+toY);		bird.classObj = classObj;		with (bird){			_xscale=7;			_yscale=7;		}		bird.pace = 3;		if (Math.random()<.5){			var birdStartX = -5;		} else {			var birdStartX = parentMC.w+5;		}		bird._x = birdStartX;		bird._y = Math.round(parentMC/6+random(parentMC.h/3));		//trace (bird +" start = "+bird._x+", "+bird._y);		bird.angle = Math.atan((toX-bird._x)/(toY-bird._y));		//trace (bird +" angle = "+bird.angle);		bird.toX = toX;		bird.toY = toY;		with (birdArt){			_alpha=60;		}		if (bird.toX<bird._x){			birdArt._xscale*=-1;			bird.flip=-1;		} else {			bird.flip=1;		}		bird.frame = "fly";		birdArt.gotoAndPlay("fly");		bird.onEnterFrame = function(){			this.classObj.birdBehavior(this);		}	}		public function birdBehavior(b:MovieClip):Void{		switch (b.frame){			case "fly":				//trace (b+": x = "+b._x+", toX = "+b.toX);				//trace (b+": y = "+b._y+", toY = "+b.toY);				if (Math.pow(b.toY-b._y,2)+Math.pow(b.toX-b._x,2)<=4+Math.pow(b.pace,2)){					b._x = b.toX;					b._y = b.toY;					if (b._x<0 or b._x>parentMC.w){						destroy(b);						break;					}					b.frame = "still";					b.tick = 0;					b.tickStop = 120+random(480);					b.birdArt.gotoAndStop("still");					break;				}				b._x+=b.pace*Math.cos(b.angle);				b._y+=b.pace*Math.sin(b.angle);				break;			case "still":				b.tick++;				if (b.tick==b.tickStop or Math.abs(b._x-parentMC.jogger._x)<10){					if (Math.random()<.5){						b.toX = -5;					} else {						b.toX = parentMC.w+5;					}					b.toY = random(parentMC.h/2);					trace ("bird flies off to "+b.toX+", "+b.toY);					b.angle = -Math.acos((b.toX-b._x)/Math.sqrt(Math.pow(b.toX-b._x,2)+Math.pow(b.toY-b._y,2)));					trace ("bird angle = "+b.angle);					b.frame="fly";					b.birdArt.gotoAndPlay("fly");					if ((b.toX-b._x)*b.flip<0){						b.birdArt._xscale*=-1;					}				}		}	}		public function destroy(b:MovieClip):Void{		trace ("destroyed "+b);		delete b.onEnterFrame;		b.removeMovieClip();	}}